import { vector, uint } from "../index.ts"
import { testCodec } from "./test-utils.ts"

describe("Vector", () => {
  it("Sequence", () => {
    const testerSeq = testCodec(vector(uint(256)))
    const value = [1n, 2n, 3n]
    const hex =
      "0x0000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000003"
    testerSeq(value, hex)
  })

  it("Array", () => {
    const testerArr = testCodec(vector(uint(256), 3))
    const value = [1n, 2n, 3n]
    const hex =
      "0x000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000003"
    testerArr(value, hex)
  })
})
