import { Vector, Uint } from "../"
import { testCodec } from "./test-utils"

describe("Vector", () => {
  it("Sequence", () => {
    const testerSeq = testCodec(Vector(Uint(256)))
    const value = [1n, 2n, 3n]
    const hex =
      "0x0000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000003"
    testerSeq(value, hex)
  })

  it("Array", () => {
    const testerArr = testCodec(Vector(Uint(256), 3))
    const value = [1n, 2n, 3n]
    const hex =
      "0x000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000003"
    testerArr(value, hex)
  })
})
